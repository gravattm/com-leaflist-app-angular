<ng-template #content let-modal>

  <div class="experiencePopupPanel popupPanel" [ngClass]="{open: isOpen}">
    <div class="popupContent">
      <div class="card">
        <div class="card-header">
          <h4>Add Experience</h4>
        </div>
        <form [formGroup]="experienceForm" (ngSubmit)="onSubmitForm()">
          <div class="card-body">
            <div class="row no">
              <div class="col-md-5">

                <div class="form-group">
                  <label for="organisation" class="label">Organization</label>
                  <input tabindex="1" type="text" id="organisation" class="form-control" name="organisation"
                    formControlName="organisation" maxlength="64" [ngClass]="{ 'is-invalid': experienceForm.controls.organisation.invalid && (experienceForm.controls.organisation.dirty || experienceForm.controls.organisation.touched || submitted)}">
                </div>

                <div class="form-group">
                  <label for="title" class="label">Title</label>
                  <input tabindex="2" type="text" id="title" class="form-control" name="title" formControlName="title"
                    maxlength="64" [ngClass]="{ 'is-invalid': experienceForm.controls.title.invalid && (experienceForm.controls.title.dirty || experienceForm.controls.title.touched || submitted)}">
                </div>

                <div class="form-group">
                  <label for="responsibilities" class="label">Responsibilities</label>
                  <textarea tabindex="3" id="responsibilities" class="form-control" name="responsibilities" rows="4"
                    formControlName="responsibilities" [ngClass]="{ 'is-invalid': experienceForm.controls.responsibilities.invalid && (experienceForm.controls.responsibilities.dirty || experienceForm.controls.responsibilities.touched || submitted)}"></textarea>
                </div>

                <div class="form-group">
                  <input tabindex="4" type="checkbox" id="canabiesRelated" name="canabiesRelated" formControlName="canabiesRelated"
                    [ngClass]="{ 'is-invalid': experienceForm.controls.canabiesRelated.invalid && (experienceForm.controls.canabiesRelated.dirty || experienceForm.controls.canabiesRelated.touched || submitted)}">
                  <label for="canabiesRelated" class="label">Cannabies Related</label>
                </div>

                <div class="form-group">
                  <input tabindex="5" type="checkbox" id="primaryPosition" name="primaryPosition" formControlName="primaryPosition"
                    [ngClass]="{ 'is-invalid': experienceForm.controls.primaryPosition.invalid && (experienceForm.controls.primaryPosition.dirty || experienceForm.controls.primaryPosition.touched || submitted)}">
                  <label for="primaryPosition" class="label">This is currently my primary position</label>
                </div>

              </div>
              <div class="clearfix col-md-1"></div>
              <div class="col-md-6">

                <div class="form-group">
                  <label for="startYear" class="label">Start Date</label>
                  <div class="row top6">
                    <div class="col-sm-5 mb-2 mb-md-0 ">

                      <select tabindex="5" name="startMonth" id="startMonth" class="form-control" formControlName="startMonth"
                        [ngClass]="{ 'is-invalid': experienceForm.controls.startMonth.invalid && (experienceForm.controls.startMonth.dirty || experienceForm.controls.startMonth.touched || submitted)}">
                        <option *ngFor="let month of months" [value]="month.code">{{month.name}}
                        </option>
                      </select>

                    </div>
                    <div class="col-sm-4">

                      <select tabindex="7" name="startYear" id="startYear" class="form-control" formControlName="startYear"
                        [ngClass]="{ 'is-invalid': experienceForm.controls.startYear.invalid && (experienceForm.controls.startYear.dirty || experienceForm.controls.startYear.touched || submitted)}">
                        <option *ngFor="let year of years" [value]="year">{{year}}
                        </option>
                      </select>

                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <label for="endYear" class="label">End Date</label>
                  <div class="row top6">
                    <div class="col-sm-5  mb-2 mb-md-0">

                      <select tabindex="8" name="endMonth" id="endMonth" class="form-control" formControlName="endMonth"
                        [ngClass]="{ 'is-invalid': experienceForm.controls.endMonth.invalid && (experienceForm.controls.endMonth.dirty || experienceForm.controls.endMonth.touched || submitted)}">
                        <option *ngFor="let month of months" [value]="month.code">{{month.name}}
                        </option>
                      </select>

                    </div>
                    <div class="col-sm-4  mb-2 mb-md-00
                    ">

                      <select tabindex="9" name="endYear" id="endYear" class="form-control" formControlName="endYear"
                        [ngClass]="{ 'is-invalid': experienceForm.controls.endYear.invalid && (experienceForm.controls.endYear.dirty || experienceForm.controls.endYear.touched || submitted)}">
                        <option *ngFor="let year of years" [value]="year">{{year}}
                        </option>
                      </select>

                    </div>
                    <div class="col-sm-3  mb-2 mb-md-0">
                      <input tabindex="10" type="checkbox" id="isPresent" name="idPresent" formControlName="isPresent"
                        [ngClass]="{ 'is-invalid': experienceForm.controls.isPresent.invalid && (experienceForm.controls.isPresent.dirty || experienceForm.controls.isPresent.touched || submitted)}">
                      <label for="isPresent" class="label">Present</label>
                    </div>
                  </div>

                  <div class="form-group">
                    <label class="label">Address</label>
                    <div class="address">
                      <div class="row top6">

                        <div class="col-sm-12">
                          <input tabindex="11" class="form-control" type="text" formControlName="address" placeholder="City/Town"
                            tabindex="4" [ngClass]="{ 'is-invalid': experienceForm.controls.address.invalid && (experienceForm.controls.address.dirty || experienceForm.controls.address.touched  || submitted)}">
                        </div>

                      </div>
                      <div class="row top6">

                        <div class="col-sm-7 mb-2 mb-md-0">
                          <select tabindex="12" class="form-control" tabindex="6" formControlName="country" [ngClass]="{ 'is-invalid': experienceForm.controls.country.invalid && (experienceForm.controls.country.dirty || experienceForm.controls.country.touched  || submitted)}">
                            <option value="">Select Country</option>
                            <option *ngFor="let country of countryList" [value]="country.code">{{ country.name }}</option>
                          </select>
                        </div>

                        <div class="col-sm-5  mb-2 mb-md-0" *ngIf="experienceForm.controls.country.value === 'US'; else stateText">
                          <select tabindex="13" class="form-control" tabindex="7" formControlName="state" [ngClass]="{ 'is-invalid': experienceForm.controls.state.invalid && (experienceForm.controls.state.dirty || experienceForm.controls.state.touched || submitted)}">
                            <option value="">Select State</option>
                            <option *ngFor="let state of stateList" [value]="state.code">{{state.name}}</option>
                          </select>
                        </div>

                        <ng-template #stateText>
                          <div class="col-sm-5">
                            <input tabindex="14" type="text" class="form-control left6" formControlName="state"
                              placeholder="State" tabindex="8" [ngClass]="{ 'is-invalid': experienceForm.controls.state.invalid && (experienceForm.controls.state.dirty || experienceForm.controls.state.touched || submitted)}">
                          </div>
                        </ng-template>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <div>Delete this experience</div>
            <div class="flex"></div>
            <button class="button-outline" (click)="modal.dismiss('Cross click')">Cancel</button>
            <button class="button-small left24" type="submit" [disabled]="!experienceForm.valid" (click)="modal.close('Save click')">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-template>